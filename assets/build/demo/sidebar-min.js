KISSY.add("demo/sidebar",function(e,t,s,i,r){var a=e.all,n=new s,o=function(){this.el=a("#J_Sidebar"),this.elHd=a("#J_SidebarHd"),this.elBd=a("#J_SidebarBd"),this.events={"click #J_SidebarHd a":"getApi","click .J_Module":"toggle","click .J_Subcat":"toggle","click .J_Entrie":"toggle"},this.init()};return e.extend(o,t),o.prototype.init=function(){o.superclass.constructor.call(this),this.elHd.one("a").fire("click")},o.prototype.render=function(e){var t,s,i=this;t=["{{#api}}",'<ul class="modules">',"{{#subcats}}",'<li class="module">','<p class="J_Module module-name" data-name="{{name}}" data-type="module"><i class="icon-caret-right"></i>{{name}}</span>',"{{@if entries}}",'<ul class="entries">',"{{#entries}}",'<li class="J_Entrie entrie" data-name="{{name}}" data-type="entrie">','<p class="entrie-name">{{name}}</p>','<p class="entrie-desc">{{desc}}</p>',"</li>","{{/entries}}","</ul>","{{else}}",'<ul class="subcats">',"{{#subcats}}",'<li class="subcat">','<p class="J_Subcat subcat-name" data-name="{{name}}" data-type="subcat">{{name}}</p>','<ul class="entries">',"{{#entries}}",'<li class="J_Entrie entrie" data-name="{{name}}" data-type="entrie">','<p class="entrie-name">{{name}}</p>','<p class="entrie-desc">{{desc}}</p>',"</li>","{{/entries}}","</ul>","</li>","{{/subcats}}","</ul>","{{/if}}","</li>","{{/subcats}}","</ul>","{{/api}}"],s=new r(t.join("")).render({api:e}),i.elBd.html(s)},o.prototype.getApi=function(t){var s=this,i=a(t.currentTarget),r=i.attr("data-api-mod");i.addClass("current").siblings().removeClass("current"),e.use(r,function(e,t){s.render(t)})},o.prototype.toggle=function(e){var t=this,s=a(e.currentTarget),i=s.attr("data-name"),r=s.attr("data-type");switch(r){case"module":s.next().slideToggle(.2),t._set("module",i),t._set("subcat",null),t._set("entrie",null);break;case"subcat":s.next().slideToggle(.2),t._set("subcat",i),t._set("entrie",null);break;case"entrie":a(".J_Entrie",t.elBd).removeClass("current"),s.addClass("current"),t._set("entrie",i)}n.render()},o},{requires:["demo/base","demo/list","node","xtemplate"]});